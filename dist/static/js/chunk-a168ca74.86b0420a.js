(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a168ca74"],{"311b":function(t,e,a){},"3cb4":function(t,e,a){"use strict";a.r(e);var r,n,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-row",{staticStyle:{height:"48px"}}),a("RankCard",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.records,page:t.page,"items-per-page":t.itemsPerPage,"hide-default-footer":"","disable-sort":""},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}}}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)],1)],1)},s=[],i=(a("4e827"),a("96cf"),a("1da1")),c=a("c1df"),l=a.n(c),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",t._b({staticClass:"rank_card--has-heading rank_card "},"v-card",t.$attrs,!1),[a("div",{staticClass:"d-flex grow flex-wrap"},[a("v-sheet",{staticClass:"text-start rank_card__heading chart_ring",attrs:{width:"100%",elevation:"6",dark:""}},[t.loaded?a("TrendCard",{staticStyle:{height:"250px",padding:"10px"},attrs:{chartdata:t.datacollection,options:t.chartOption}}):t._e()],1)],1),t._t("default")],2)},u=[],p=a("b85c"),f=a("1fca"),h={extends:f["a"],props:{chartdata:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){this.renderChart(this.chartdata,this.options)}},g=h,m=a("2877"),b=Object(m["a"])(g,r,n,!1,null,null,null),v=b.exports,x=a("b775"),C=function(){return Object(x["a"])({url:"/contest/trend/",method:"get"})},k=function(){return Object(x["a"])({url:"/contest/scoreboard/",method:"get"})},w=(a("30ef"),{components:{TrendCard:v},name:"RankCard",inheritAttrs:!1,props:{},data:function(){return{loaded:!1,timeFormat:"YYYY-MM-DD HH:mm:ss",colorset:["#409eff","#fe9205","#f87979","#00bcd4","#39c7ba","#733c8b","#9a4a4c","#2f2527","#3f637b","#635e16"],datacollection:{datasets:[]},chartOption:{scales:{xAxes:[{ticks:{fontColor:"rgba(255, 255, 255, 0.7)"},gridLines:{borderDash:[1,4],color:"rgba(255, 255, 255, 0.6)",zeroLineBorderDash:[1,4],zeroLineColor:"rgba(255, 255, 255, 0.6)"},type:"time",time:{parser:this.timeFormat,tooltipFormat:this.timeFormat}}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0,fontColor:"rgba(255, 255, 255, 0.7)"},gridLines:{color:"rgba(255, 255, 255, 0.6)",borderDash:[1,4],zeroLineBorderDash:[1,4],zeroLineColor:"rgba(255, 255, 255, 0.6)"}}]},legend:{labels:{fontColor:"rgba(255, 255, 255, 0.7)"}},scaleFontColor:"rgba(255, 255, 255, 0.7)",responsive:!0,maintainAspectRatio:!1}}},mounted:function(){this.genTrend()},methods:{genTrend:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,n,o,s,i,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loaded=!1,e.next=3,C();case 3:for(r in a=e.sent,a.data.rows){n=a.data.rows[r],o=n.records,s={label:n.nickname,borderColor:t.colorset[r],fill:!1,pointBackgroundColor:t.colorset[r],data:[]},i=Object(p["a"])(o);try{for(i.s();!(c=i.n()).done;)d=c.value,s.data.push({x:l()(d.date).format(t.timeFormat),y:d.points})}catch(u){i.e(u)}finally{i.f()}s.data.push({x:l()().format(t.timeFormat),y:n.current_points}),console.log(s),t.datacollection.datasets.push(s)}t.loaded=!0;case 6:case"end":return e.stop()}}),e)})))()}}}),_=w,O=(a("753c"),a("6544")),j=a.n(O),y=a("b0af"),R=a("8dd9"),D=Object(m["a"])(_,d,u,!1,null,null,null),L=D.exports;j()(D,{VCard:y["a"],VSheet:R["a"]});var Y={components:{RankCard:L},data:function(){return{page:1,pageCount:0,itemsPerPage:10,headers:[{text:"Rank",align:"start",sortable:!1,value:"rank"},{text:"Nickname",value:"nickname"},{text:"Points",value:"points"},{text:"Solved",value:"solved_amount"},{text:"Last Point Time",value:"last_point_at"}],records:[]}},methods:{genUserList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:for(a=e.sent,t.records=a.data,t.records.sort((function(t,e){return t.points<e.points?1:-1})),r=0;r<t.records.length;r++)t.records[r].rank=r+1,t.records[r].last_point_at=l()(t.records[r].last_point_at,"YYYY-MM-DD HH:mm:ss").fromNow();case 6:case"end":return e.stop()}}),e)})))()}},created:function(){this.genUserList()}},F=Y,P=a("62ad"),V=a("a523"),T=a("8fea"),A=a("891e"),z=a("0fd9"),H=Object(m["a"])(F,o,s,!1,null,null,null);e["default"]=H.exports;j()(H,{VCol:P["a"],VContainer:V["a"],VDataTable:T["a"],VPagination:A["a"],VRow:z["a"]})},"753c":function(t,e,a){"use strict";a("311b")}}]);