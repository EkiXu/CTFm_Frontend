(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2f03148"],{"1e8f":function(e,t,a){"use strict";a("28a9")},"28a9":function(e,t,a){},"3cb4":function(e,t,a){"use strict";a.r(t);var r,n,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-row",{staticStyle:{height:"48px"}}),a("RankCard",{attrs:{type:this.$route.params.type}},[a("div",{staticClass:"scoreboard"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.records,page:e.page,"items-per-page":e.itemsPerPage,"hide-default-footer":"",loading:e.isLoading,"loading-text":"Loading... Please wait",height:"300","fixed-header":"","disable-sort":""},on:{"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}}}),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:e.pageCount},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)])],1)],1)],1)},s=[],i=(a("e25e"),a("b85c")),c=(a("96cf"),a("1da1")),l=a("c1df"),d=a.n(l),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",e._b({staticClass:"rank_card--has-heading rank_card "},"v-card",e.$attrs,!1),[a("div",{staticClass:"d-flex grow flex-wrap"},[a("v-sheet",{staticClass:"text-start rank_card__heading chart_ring",attrs:{width:"100%",elevation:"6",dark:""}},[e.loaded?a("TrendCard",{staticStyle:{height:"250px",padding:"10px"},attrs:{chartdata:e.datacollection,options:e.chartOption}}):e._e()],1)],1),e._t("default")],2)},f=[],p=a("5530"),h=a("2f62"),g=a("1fca"),m={extends:g["a"],props:{chartdata:{type:Object,default:null},options:{type:Object,default:null}},mounted:function(){this.renderChart(this.chartdata,this.options)}},b=m,x=a("2877"),v=Object(x["a"])(b,r,n,!1,null,null,null),k=v.exports,_=a("f634"),C=(a("30ef"),{components:{TrendCard:k},name:"RankCard",inheritAttrs:!1,props:{type:{type:String,default:null}},data:function(){return{loaded:!1,timeFormat:"YYYY-MM-DD HH:mm:ss",colorset:["#409eff","#fe9205","#f87979","#00bcd4","#39c7ba","#733c8b","#9a4a4c","#dd162a","#3f637b","#635e16"],datacollection:{datasets:[]},chartOption:{scales:{xAxes:[{ticks:{fontColor:"rgba(255, 255, 255, 0.7)"},gridLines:{borderDash:[1,4],color:"rgba(255, 255, 255, 0.6)",zeroLineBorderDash:[1,4],zeroLineColor:"rgba(255, 255, 255, 0.6)"},type:"time",time:{parser:this.timeFormat,tooltipFormat:this.timeFormat}}],yAxes:[{ticks:{beginAtZero:!0,fontColor:"rgba(255, 255, 255, 0.7)"},gridLines:{color:"rgba(255, 255, 255, 0.6)",borderDash:[1,4],zeroLineBorderDash:[1,4],zeroLineColor:"rgba(255, 255, 255, 0.6)"}}]},legend:{labels:{fontColor:"rgba(255, 255, 255, 0.7)"}},bezierCurve:!1,scaleFontColor:"rgba(255, 255, 255, 0.7)",responsive:!0,maintainAspectRatio:!1}}},computed:Object(p["a"])({},Object(h["c"])("contest",["contestInfo"])),mounted:function(){this.genTrend()},methods:{genTrend:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,s,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loaded=!1,e.type){t.next=7;break}return t.next=4,Object(_["e"])();case 4:a=t.sent,t.next=14;break;case 7:if("stu"!=e.type){t.next=13;break}return t.next=10,Object(_["d"])();case 10:a=t.sent,t.next=14;break;case 13:a=[];case 14:for(r in a.data.rows){n=a.data.rows[r],o=n.records,s={label:n.nickname,borderColor:e.colorset[r],fill:!1,pointBackgroundColor:e.colorset[r],data:[]},s.data.push({x:d()(e.contestInfo.start_time).format(e.timeFormat),y:0}),c=Object(i["a"])(o);try{for(c.s();!(l=c.n()).done;)u=l.value,s.data.push({x:d()(u.date).format(e.timeFormat),y:u.points})}catch(f){c.e(f)}finally{c.f()}s.data.push({x:d()().isBefore(e.contestInfo.end_time)?d()().format(e.timeFormat):d()(e.contestInfo.end_time).format(e.timeFormat),y:n.current_points}),e.datacollection.datasets.push(s)}e.loaded=!0;case 16:case"end":return t.stop()}}),t)})))()}}}),y=C,w=(a("d8a9"),a("6544")),O=a.n(w),j=a("b0af"),L=a("8dd9"),R=Object(x["a"])(y,u,f,!1,null,"60b4efd8",null),D=R.exports;O()(R,{VCard:j["a"],VSheet:L["a"]});var F={components:{RankCard:D},data:function(){return{page:1,pageCount:0,itemsPerPage:5,isLoading:!0,headers:[{text:"Rank",align:"start",sortable:!1,value:"rank"},{text:"Nickname",value:"nickname"},{text:"Points",value:"points"},{text:"Solved",value:"solved_amount"},{text:"Last Point Time",value:"last_point_at"}],records:[],challenges:[]}},methods:{genUserList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,s,c,l,u,f,p,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$route.params.type,a){t.next=7;break}return t.next=4,Object(_["b"])();case 4:r=t.sent,t.next=15;break;case 7:if("stu"!==a){t.next=13;break}return t.next=10,Object(_["c"])();case 10:r=t.sent,t.next=15;break;case 13:return e.$router.push("/404"),t.abrupt("return");case 15:n=r.data.players,o=r.data.challenges,s=Object(i["a"])(o);try{for(s.s();!(c=s.n()).done;)l=c.value,e.headers.push({text:l.title,value:"challenge_"+l.id}),e.challenges.push({text:l.title,value:"challenge_"+l.id})}catch(g){s.e(g)}finally{s.f()}for(u in n){n[u].rank=parseInt(u)+1,n[u].last_point_at=d()(n[u].last_point_at,"YYYY-MM-DD HH:mm:ss").fromNow(),f=Object(i["a"])(n[u].solved_challenges);try{for(f.s();!(p=f.n()).done;)h=p.value,n[u]["challenge_"+h.challenge]="ðŸš©"}catch(g){f.e(g)}finally{f.f()}}e.records=n,e.isLoading=!1;case 22:case"end":return t.stop()}}),t)})))()}},created:function(){this.genUserList()}},P=F,Y=(a("1e8f"),a("62ad")),V=a("a523"),T=a("8fea"),$=a("891e"),z=a("0fd9"),A=Object(x["a"])(P,o,s,!1,null,"1f3a7234",null);t["default"]=A.exports;O()(A,{VCol:Y["a"],VContainer:V["a"],VDataTable:T["a"],VPagination:$["a"],VRow:z["a"]})},"436c":function(e,t,a){},d8a9:function(e,t,a){"use strict";a("436c")}}]);